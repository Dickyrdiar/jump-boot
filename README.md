![banner](jump-boot/img/BANNER.jpg)

---

[![Custom badge](https://img.shields.io/endpoint?style=for-the-badge&url=https%3A%2F%2Fjefripunza-youtube-channel-badge.vercel.app%2Fapi%2Fsubscriber)](https://www.youtube.com/user/jefripunza/videos/)
[![Custom badge](https://img.shields.io/endpoint?style=for-the-badge&url=https%3A%2F%2Fjefripunza-youtube-channel-badge.vercel.app%2Fapi%2Fviews)](https://www.youtube.com/user/jefripunza/videos/)
[![Custom badge](https://img.shields.io/endpoint?style=for-the-badge&url=https%3A%2F%2Fjefripunza-youtube-channel-badge.vercel.app%2Fapi%2Fvideos)](https://www.youtube.com/user/jefripunza/videos/)

## Donate

[![Donate](https://img.shields.io/badge/paypal-%2300457C.svg?&style=for-the-badge&logo=paypal&logoColor=white)](https://www.paypal.com/paypalme/jefripunza)

## Social Media

[![Custom badge](https://img.shields.io/badge/youtube-%23FF0000.svg?&style=for-the-badge&logo=youtube&logoColor=white)](https://www.youtube.com/user/jefripunza/)
[![Custom badge](https://img.shields.io/badge/instagram-%23E4405F.svg?&style=for-the-badge&logo=instagram&logoColor=white)](https://www.instagram.com/jefripunza/)
[![Custom badge](https://img.shields.io/badge/facebook-%231877F2.svg?&style=for-the-badge&logo=facebook&logoColor=white)](https://fb.com/jefripunza/)
[![Custom badge](https://img.shields.io/badge/twitter-%231DA1F2.svg?&style=for-the-badge&logo=twitter&logoColor=white)](https://twitter.com/jefripunza/)
[![Custom badge](https://img.shields.io/badge/linkedin-%230077B5.svg?&style=for-the-badge&logo=linkedin&logoColor=white)](https://www.linkedin.com/in/jefri-herdi-triyanto-ba76a8106/)
[![Custom badge](https://img.shields.io/badge/Website-FF7139?style=for-the-badge&logo=Firefox-Browser&logoColor=white)](https://jefriherditriyanto.com/)

## Technology

[![Custom badge](https://img.shields.io/badge/node.js-6DA55F?style=for-the-badge&logo=node.js&logoColor=white)](https://nodejs.dev/learn/introduction-to-nodejs)
[![Custom badge](https://img.shields.io/badge/express.js-%23404d59.svg?style=for-the-badge&logo=express&logoColor=%2361DAFB)](https://expressjs.com/)
[![Custom badge](https://img.shields.io/badge/JWT-black?style=for-the-badge&logo=JSON%20web%20tokens)](https://jwt.io/)

[![Custom badge](https://img.shields.io/badge/MongoDB-%234ea94b.svg?style=for-the-badge&logo=mongodb&logoColor=white)](https://www.mongodb.com/)
[![Custom badge](https://img.shields.io/badge/mysql-%2300f.svg?style=for-the-badge&logo=mysql&logoColor=white)](https://www.mysql.com/)
[![Custom badge](https://img.shields.io/badge/MariaDB-003545?style=for-the-badge&logo=mariadb&logoColor=white)](https://mariadb.org/)
[![Custom badge](https://img.shields.io/badge/postgres-%23316192.svg?style=for-the-badge&logo=postgresql&logoColor=white)](https://www.postgresql.org/)
[![Custom badge](https://img.shields.io/badge/sqlite-%2307405e.svg?style=for-the-badge&logo=sqlite&logoColor=white)](https://www.sqlite.org/)
[![Custom badge](https://img.shields.io/badge/Cockroach%20Labs-6933FF?style=for-the-badge&logo=CockroachDB&logoColor=white)](https://www.cockroachlabs.com/)
[![Custom badge](https://img.shields.io/badge/Microsoft%20SQL%20Sever-CC2927?style=for-the-badge&logo=microsoft%20sql%20server&logoColor=white)](https://docs.microsoft.com/en-us/sql/sql-server/?view=sql-server-ver15)

[![Custom badge](https://img.shields.io/badge/react_js-%2320232a.svg?style=for-the-badge&logo=react&logoColor=%2361DAFB)](https://reactjs.org/)
[![Custom badge](https://img.shields.io/badge/vuejs-%2335495e.svg?style=for-the-badge&logo=vuedotjs&logoColor=%234FC08D)](https://vuejs.org/)
[![Custom badge](https://img.shields.io/badge/angular.js-%23E23237.svg?style=for-the-badge&logo=angularjs&logoColor=white)](https://angular.io/)
[![Custom badge](https://img.shields.io/badge/svelte-%23f1413d.svg?style=for-the-badge&logo=svelte&logoColor=white)](https://svelte.dev/)
[![Custom badge](https://img.shields.io/badge/Gatsby-%23663399.svg?style=for-the-badge&logo=gatsby&logoColor=white)](https://www.gatsbyjs.com/)
[![Custom badge](https://img.shields.io/badge/Next-black?style=for-the-badge&logo=next.js&logoColor=white)](https://nextjs.org/)
[![Custom badge](https://img.shields.io/badge/Nuxt-black?style=for-the-badge&logo=nuxt.js&logoColor=white)](https://nuxtjs.org/)
[![Custom badge](https://img.shields.io/badge/aurelia-%23ED2B88.svg?style=for-the-badge&logo=aurelia&logoColor=fff)](https://aurelia.io/)
[![Custom badge](https://img.shields.io/badge/jasmine-%238A4182.svg?style=for-the-badge&logo=jasmine&logoColor=white)](https://jasmine.github.io/)
[![Custom badge](https://img.shields.io/badge/meteorjs-%23d74c4c.svg?style=for-the-badge&logo=meteor&logoColor=white)](https://www.meteor.com/)
[![Custom badge](https://img.shields.io/badge/Quasar-16B7FB?style=for-the-badge&logo=quasar&logoColor=black)](https://quasar.dev/)

[![Custom badge](https://img.shields.io/badge/html5-%23E34F26.svg?style=for-the-badge&logo=html5&logoColor=white)](https://www.w3schools.com/html/)
[![Custom badge](https://img.shields.io/badge/css3-%231572B6.svg?style=for-the-badge&logo=css3&logoColor=white)](https://www.w3schools.com/css/)
[![Custom badge](https://img.shields.io/badge/JavaScript-323330?style=for-the-badge&logo=javascript&logoColor=F7DF1E)](https://www.javascript.com/)

[![Custom badge](https://img.shields.io/badge/-mocha-%238D6748?style=for-the-badge&logo=mocha&logoColor=white)](https://mochajs.org/)

## Introduction

Konsep dasar framework ini adalah mengacu kepada struktur dari **[Java Spring-Boot](https://spring.io/projects/spring-boot)** yang mana semua file project berbentuk OOP dan struktur nya **hampir mirip** dengan **Java Spring-Boot**. Saya sengaja membuat ini supaya teman2 yang dari Java Spring-Boot yang ingin **Hijrah** ke NodeJS maka menggunakan ini akan sangat familiar.

![RFP](jump-boot/img/RFP.jpg)

Ditambah dengan metode frontend development yang saya buat sendiri dengan nama **Remote Frontend Package (RFP)**, yaitu dengan mengarsipkan semua hasil build dan file archive-nya (zip) dikirim ke pihak backend agar isi file archive di ekstrak ke dalam folder **js-framework** untuk ditampilkan ke publik.

Melihat dari beberapa kelebihan dari Jump-Boot dan metode RFP yang saya buat, maka saya membuat repositori ini agar saya dan kawan-kawan bisa merasakan bagaimana menggunakan framework ini di NodeJS.
Mudah-mudahan bermanfaat...

---

<br />

## First Prepare

dikarenakan saya menggunakan **NodeJS**, maka yang harus dipersiapkan terlebih dahulu adalah :
| Aplikasi | Kegunaan | Link |
|----------|----------|------|
| NodeJS | lingkungan javascript untuk running JS diluar browser | [download & install](https://nodejs.org/en/) |
| Yarn | package manager yang lebih mudah digunakan daripada **NPM** | [doc](https://yarnpkg.com/getting-started/usage) |
| PM2 | process manager untuk running microservices | [doc](https://pm2.keymetrics.io/docs/usage/quick-start/) |
| Nodemon | auto reload service jika project di save (for development only) | [doc](https://www.npmjs.com/package/nodemon) |
| ExpressJS | framework web app untuk **NodeJS** yang ditulis dengan bahasa pemrograman JavaScript | [doc](https://expressjs.com/en/starter/basic-routing.html) |
| JSON Web Token | salah satu keamanan akses di NodeJS | [doc](https://jwt.io/) |
| TypeORM | sebagai penghubung dan mempermudah membuat aplikasi menggunakan database berbasis rasional | [doc](https://typeorm.io/#/connection-options/common-connection-options) |
| Socket.io | (if use) teknologi protokol websocket untuk data realtime | [doc](https://socket.io/docs/v4/) |
| Node Mailer | (if use) pengiriman email menggunakan NodeJS | [doc](https://nodemailer.com/about/) |
| WhatsApp API (socket) | (if use) menggunakan service whatsapp didalam NodeJS | [doc](https://github.com/adiwajshing/baileys) |

### Global Setup (hanya sekali saja dalam 1 perangkat)

untuk menginisial kebutuhan dalam running dan developing

```bash
npm install -g yarn pm2 nodemon
```

### Clone Template

```bash
git clone https://github.com/jefripunza/jump-boot my-project-name

// or

git clone https://github.com/jefripunza/jump-boot .
```

### Install Dependencies

```bash
npm install

// or

yarn install
```

### setup .env

rename **.env-example** menjadi file **.env**, kemudian rubah sesuai kebutuhan/require :

```text
MAILER_EMAIL_LOCAL=
MAILER_PASS_LOCAL=

MAILER_EMAIL_DEV=
MAILER_PASS_DEV=

MAILER_EMAIL_PRODUCTION=
MAILER_PASS_PRODUCTION=
```

NOTE : jika anda menggunakan Node Mailer, maka setup diatas adalah **WAJIB**. jika tidak? abaikan saja setup ini.

### setup .properties

karena framework ini terinspirasi dari **Java Spring-Boot**, maka setup nya pun sama dengan framework tersebut. dengan alasan jika ingin migrasi tinggal copas saja settingan dari **Java Spring-Boot** kedalam project ini maka sudah otomatis terkonfigurasi.

### run app

untuk menjalankan project ini, seperti berikut :
```bash
node .     // standard

// or

nodemon    // development

// or

pm2 start ./jump-boot/start.js --name your-service-name    // untuk microservice menggunakan pm2
```

<br />

---

<br />

## CLI App

cara menggunakan CLI App, simak berikut ini :

pastikan file **run.js** ada di project ini, lalu ketik seperti ini di terminal :
```bash
node run
```

maka akan muncul seperti ini :
![banner](jump-boot/img/CLI-RUN.JPG)

untuk melihat menu file project dasar apa saja yang bisa di create secara otomatis dengan mengetik seperti ini di terminal :
```bash
node run create
```

maka akan muncul seperti ini :
![banner](jump-boot/img/CLI-CREATE.JPG)

kemudian jika ingin membuat file project dasar secara otomatis dengan mengetik seperti ini di terminal (example) :
```bash
node run create controller   // auto generate dengan nama "ExampleController.js"

// or

node run create controller --name contohSaja   // untuk custom nama file beserta endpoint dan nama class nya
```

maka akan muncul seperti ini (example) :
![banner](jump-boot/img/CLI-RESULT.JPG)

akan terbuat otomatis file seperti ini (example) :
![banner](jump-boot/img/CLI-FILE-VIEW.JPG)

dan hasilnya akan seperti ini (example) :
![banner](jump-boot/img/CLI-RESULT.JPG)

NOTE : untuk isi file yang baru terbuat akan ter-include beberapa endpoint standar seperti **GetMapping, PostMapping, PutMapping, dan DeleteMapping** beserta anotasi2 standar

<br />

---

<br />

## Remote Frontend Package (RFP)

untuk mengaktifkan **RFP**, anda perlu menambahkan di setup server didalam file **Main.js** :
```javascript
{
    ...
    rfp = true
    ...
}
```

kemudian copy file **[sendToBackend.js](https://github.com/jefripunza/jump-boot/blob/main/jump-boot/rfp/sendToBackend.js)** kemudian paste-kan **kedalam root project frontend anda** dengan nama **sendToBackend.js** dan **install dependency** yang diperlukan didalam project frontend dengan cara:

#### frontend development side

```bash
npm -i -D form-data archiver && npm i axios

// or

yarn add -D form-data archiver && yarn add axios
```

rubah **package.json** pada bagian build menjadi :

```json
// (default) build folder is "build"
{
    ...
    "scripts": {
        "build": "react-scripts build && node sendToBackend"
    },
    ...
}

// build folder is "dist"
{
    ...
    "scripts": {
        "build": "react-scripts build && node sendToBackend dist"
    },
    ...
}

// and so on, following your basic javascript framework build folder
```

NOTE : khusus untuk frontend, rubah password yang ada didalam file **sendToBackend.js** dengan password RFP dari Backend yang tergenerate otomatis ketika project ini di running.

<br />

---

<br />

## How to Development

perhatikan dengan seksama cara menggunakan framework ini :

### setup server (Main.js)
```javascript
{
    ...
    server = {
        debug: true, // show endpoint if hit
        database: true, // use database
        doc: true, // like Swagger (#your_root#/doc)
        public_directory: true,
        maxUploadSize: 20, // MB
        // security
        cors: true,
        helmet: true,
        jwt: true,
    }
    ...
}
```

### setup mailer (Main.js)
```javascript
{
    ...
    mailer = process.env.application === 'production' ?
        {
            host: 'smtp.ethereal.email',
            port: 587,
            secure: false, // true for 465, false for other ports
            auth: {
                user: process.env.MAILER_EMAIL_PRODUCTION,
                pass: process.env.MAILER_PASS_PRODUCTION,
            },
        } :
        process.env.application === 'dev' ?
            {
                host: 'smtp.ethereal.email',
                port: 587,
                secure: false, // true for 465, false for other ports
                auth: {
                    user: process.env.MAILER_EMAIL_DEV,
                    pass: process.env.MAILER_PASS_DEV,
                },
            } :
            {
                // local (default)
                service: 'gmail',
                auth: {
                    user: process.env.MAILER_EMAIL_LOCAL,
                    pass: process.env.MAILER_PASS_LOCAL,
                },
            };
    ...
}
```

### setup whatsapp (Main.js)
```javascript
{
    ...
    whatsapp = {
        name: 'My Project Name',
    }
    ...
}
```

NOTE : jika anda pertama kali menggunakan whatsapp, anda harus merubah tipe whatsapp anda menjadi **multi device** pada pengaturan aplikasi handphone :
```text
- Android

Buka WhatsApp, pilih More Options.
Ketuk Linked Devices.
Ketuk Multi-Device Beta.
Ketuk Join Beta.

// atau

- iPhone

Pilih WhatsApp Settings.
Ketuk Linked Devices.
Ketuk Multi-Device Beta, ketuk Join Beta.
```
kemudian jalankan sejenak project ini untuk __mengeluarkan barcode__, kemudian **scan barcode yang muncul di terminal**. akan ada file baru bernama **whatsapp-session.json** untuk menyimpan session login whatsapp anda.


### setup JWT (Main.js ~> server)
jika anda menggunakan JWT, anda perlu mengaktifkan didalam configurasi server dengan cara :

```javascript
{
    server = {
        ...
        jwt: true, // untuk mengenerate otomatis secret token didalam file .env

        // or

        jwt: 20, // panjang dari secret token yang akan di generate
        ...
    }
}
```

lalu untuk membuat token baru saat login, seperti ini untuk controller nya (example) :
```javascript
  /**
   * @PostMapping ("/login")
   * @ValidateBody ({ username: "string", password: "string" })
   */
    login = async (req, res) => {
        const { username, password } = req.body;
        try {
            const isLogin = await this.LoginService.loginGetToken(username, password)
            if (isLogin) {
                super.sendSuccessJson(res, {
                    ...isLogin,
                });
            } else {
                super.sendClientErrorJson(res, 'maaf, username atau password salah')
            }
        } catch (error) {
            super.sendServerErrorJson(res, error.message);
        }
    };
```

lalu pada service nya seperti ini :
```javascript
    loginGetToken = async (username, password) => {
        const result = await this.LoginRepository.fromUserWhereUsernameAndPassword(username, password)
        if (result) {
            // update last_login
            await this.LoginRepository.updateFromUserWhereId(result.id)
            return this.jwt.createTokenLogin( // ini cara mendapatkan token dan refresh token
                result, // data yang akan di jadikan token
                this.jwt.valueOneHour, // expired untuk token utama
                this.jwt.valueOneDay, // expired untuk refresh token
            );
        }
        return false
    }
```

dan setelah itu cara mengamankan endpoint, tulis anotasi seperti ini :
```javascript
  /**
   * @GetMapping ("/")
   * @Jwt
   */
    isRegistered = async (req, res) => {
        ...
    }
```

### setup auto documentation (like Swagger)
jika anda menggunakan auto documentation, silahkan simak berikut ini :

aktifkan terlebih dahulu didalam configurasi server dengan cara :
```javascript
{
    server = {
        ...
        doc: true,
        ...
    }
}
```

kemudian didalam setiap **Endpoint** didalam file **Controller** menggunakan anotasi seperti ini (example) :
```javascript
  /**
   * @GetMapping ("/")
   * // for documentation (includes unit test)
   * @Doc ("untuk mengecek apakah nomer kita terdaftar di whatsapp")
   * @DocHeaders     ({ authorization:"string" })
   * @DocHeadersDesc ({ authorization:"untuk keamanan, berbentuk Bearer token" })
   * @DocParams     ({ no_hp:"string" })
   * @DocParamsDesc ({ no_hp:"nomor handphone yang ingin di cek" })
   * @Doc200 ({"no_hp":"string","registered":"boolean"})
   * @Doc400 ({ message:"string" })
   */
    isRegistered = async (req, res) => {
        ...
    }
```

maka akan muncul seperti ini di endpoint "http://localhost:#port/#root/doc" (example) :
![banner](jump-boot/img/DOC-EXAMPLE.JPG)














<br />

---

<br />

## Support the project

Apakah kamu menyukai project ini? Please support saya dengan menekan subscribe di [Youtube Channel](https://www.youtube.com/user/jefripunza/videos/) saya...

<br />

## Donation Please

Butuh ngopi gans, kasih lah untuk biaya pengembangan agar mudah membeli alat dan buat makan <br />
[![Donate](https://img.shields.io/badge/paypal-%2300457C.svg?&style=for-the-badge&logo=paypal&logoColor=white)](https://www.paypal.com/paypalme/jefripunza)
